{% extends 'BackAdminBundle::layout.html.twig' %}
{% block title %} {{ parent() }} {% endblock %}
{% block ariane %} {{ parent() }} {% endblock %}

{% block page %}

    <div class="box-header-response">
        {{ 'Liste des concours'|trans }}
    </div>
    <div class="col-lg-12">
        {% if droitAdmin.lecture is defined and droitAdmin.lecture %}
        <span class="glyphicon glyphicon-plus green" aria-hidden="true"></span>
        {% endif %}
        {% if droitAdmin.ajout is defined and droitAdmin.ajout %}
            <a href="{{ path('add_concours') }}">{{ 'Ajout concours'|trans }}</a>&nbsp;  &nbsp;
        {% endif %}
        <div class="list">
            <table>
                <tr>
                    <td>{{ 'Numero'|trans }}</td>
                    <td>{{ 'Nom du concours'|trans }}</td>
                    <td>{{ 'Date Debut'|trans }}</td>
                    <td>{{ 'Date Finale'|trans }}</td>
                    <td>{{ 'Actions'|trans }}</td>
                </tr>
                {% for row in concours %}
                    <tr>
                        <td>
                            {{ row.numero }}
                        </td>
                        <td>
                            {{ row.nomConcours }}
                        </td>
                        <td>
                            {{ row.dateDebut|date('d-m-Y') }}
                        </td>
                        <td>
                            {{ row.dateFinale|date('d-m-Y') }}
                        </td>
                        <td>
                            {% if droitAdmin.modification is defined and droitAdmin.modification %}
                            <a href="{{ path('edit_concours', {'id': row.id }) }}"> <span class="glyphicon glyphicon-pencil orange" aria-hidden="true"></span> Modifier </a> |
                                {% endif %}
                            {% if droitAdmin.suppression is defined and droitAdmin.suppression  %}
                                <a onclick="supprimer('Etes vous sur de vouloir supprimer ?');" href="{{ path('remove_concours', {'id': row.id}) }}"><span class="glyphicon glyphicon-remove red" aria-hidden="true"></span> Supprimer </a>
                            {% endif %}
                            {% if droitAdmin.ajout is defined and droitAdmin.ajout %}
                            <a href="{{ path('add_match_concours', {'id': row.id }) }}"><span class="glyphicon glyphicon-plus green" aria-hidden="true"></span>  {{ 'Ajouter match' }}</a>
                            {% endif %}

                        </td>
                    </tr>
                {% endfor %}
            </table>
        </div>
    </div>
{% endblock %}