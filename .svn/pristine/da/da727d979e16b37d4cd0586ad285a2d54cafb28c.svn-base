{% extends 'BackAdminBundle::layout.html.twig' %}
{% block title %} {{ parent() }} {% endblock %}
{% block ariane %} {{ parent() }} {% endblock %}

{% block page %}
    <div class="box-header-response">
        {{ 'Listes des administrateurs'|trans }}
        <div class="link">

        </div>
    </div>
    {% if currentAdmin.lecture == true %}
        <div class="box-response">
        <div class="search">
            <label class="white" for="">
                Afficher
            </label>
            <select>
                <option value="0">0</option>
                <option value="0">10</option>
                <option value="0">20</option>
                <option value="0">30</option>
            </select>
            <label class="white" for="">
                Entrees
            </label>
            <div class="link">
                 <span class="green">
                                        <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                                    </span>
                <a href="{{ path('add_new_administrator') }}">{{ "Ajouter administrator"|trans }}</a>
            </div>
        </div>
        <table class="table-user">
            <thead>
            <td>{{ 'Id'|trans }}</td>
            <td>{{ 'email'|trans }}</td>
            <td>{{ 'nom'|trans }}</td>
            <td>{{ 'prenom'|trans }}</td>
            <td>{{ 'Roles'|trans }}</td>
            <td>{{ "Actions"|trans }}</td>
            </thead>
            <tbody>
            {% for row in entities %}
                <tr>
                    <td>
                        {{ row.id }}
                    </td>
                    <td>
                        {{ row.email }}
                    </td>
                    <td>
                        {{ row.nom }}
                    </td>
                    <td>
                        {{ row.prenom }}
                    </td>
                    <td>

                        {# {% for r in get_roles(row.id) %}
                             {{ r.id }}
                         {% endfor %}#}
                    </td>
                    <td>

                        {#<a href="{{ path('list_roles_administrator', {'idAdmin': row.id }) }}"> {{ 'LIST ROLE'|trans }}</a>#}
                       {# {% if currentAdmin.modification is defined %}
                            {% if currentAdmin.modification == true %}#}
                        {% if row.enabled == true %}
                            {% if currentAdmin.modification == true  %}
                                {% if is_granted('ROLE_SUPER_ADMIN') %}

                                    <a href="{{ path('edit_roles_admin_droit', {'id': row.id }) }}" title="{{ 'EDITER ROLE'|trans }}">
                                        <span class="orange">
                                        <span class="glyphicon glyphicon-check" aria-hidden="true"></span>
                                    </span>
                                        </a> &nbsp;&nbsp;
                                {% endif %}
                            {% endif %}

                            {% if currentAdmin.modification == true %}
                                <a href="{{ path('edit_administrator_profile', {'id': row.id}) }}" title="{{ 'Modifier cet admnistrateur' }}">
                                    <span class="orange">
                                        <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                                    </span>
                                </a> &nbsp;&nbsp;
                            {% endif %}

                            {% if currentAdmin.suppression == true %}
                                <a class="suppression" href="{{ path('delete_administrator', {'id': row.id }) }}" title="{{ 'Supprimer cet administrateur' }}">
                                    <span class="red">
                                        <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                                    </span>
                                </a> &nbsp;&nbsp;
                            {% endif %}
                        {% endif %}
                         {#   {% endif %}
                        {% endif %}#}

                        {% if is_granted('ROLE_SUPER_ADMIN') %}
                            {% if row.enabled == false %}
                                <a href="{{ path('edit_validate_administrator', {'id': row.id }) }}" title="{{ 'VALIDER COMPTE' }}">
                                    <span class="violet">
                                        <span class="glyphicon glyphicon-warning-sign" aria-hidden="true"></span> {{ 'Compte Ã  valider'|trans }}
                                    </span>
                                    </a>
                            {% endif %}
                        {% endif %}

                    </td>
                </tr>
            {% endfor %}
            </tbody>
            <thead>
            <td>{{ 'Id'|trans }}</td>
            <td>{{ 'email'|trans }}</td>
            <td>{{ 'nom'|trans }}</td>
            <td>{{ 'prenom'|trans }}</td>
            <td>{{ 'Roles'|trans }}</td>
            <td>{{ "Actions"|trans }}</td>
            </thead>
        </table>
        <div class="search">
            <label class="white" for="">
                Afficher

                Entrees
            </label>


        </div>
    </div>
    {% else %}
        <div class="box-response">
            {{ "Vous n' avez pas l' autorisation pour cette page"|trans }}
        </div>
    {% endif %}
{% endblock %}
